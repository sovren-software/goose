"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[6120],{37200:(e,n,s)=>{s.d(n,{A:()=>o});s(96540);var t=s(71112),i=s(74848);const o=({extensionName:e,description:n})=>(0,i.jsx)("div",{className:"goose-builtin-installer",children:(0,i.jsxs)("ol",{children:[(0,i.jsxs)("li",{children:["Click the ",(0,i.jsx)(t.A,{className:"inline",size:16})," button in the top-left to open the sidebar"]}),(0,i.jsxs)("li",{children:["Click ",(0,i.jsx)("code",{children:"Extensions"})," in the sidebar"]}),(0,i.jsxs)("li",{children:["Toggle ",(0,i.jsx)("code",{children:e})," on"]})]})})},48764:(e,n,s)=>{s.d(n,{Z:()=>o});s(96540);var t=s(27293),i=s(74848);const o=({defaultEnabled:e=!0})=>(0,i.jsx)(t.A,{type:"info",title:"Platform Extension",children:(0,i.jsxs)("p",{children:["This is a ",(0,i.jsx)("a",{href:"/goose/docs/getting-started/using-extensions#built-in-platform-extensions",children:"built-in platform extension"}),e&&" that's enabled by default for new users",". Platform extensions provide core functionality and are used within goose just like external MCP server extensions."]})})},80602:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>h,default:()=>g,frontMatter:()=>d,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"mcp/tom-mcp","title":"Top Of Mind Extension","description":"Inject persistent instructions into goose\'s working memory every turn","source":"@site/docs/mcp/tom-mcp.md","sourceDirName":"mcp","slug":"/mcp/tom-mcp","permalink":"/goose/pr-preview/pr-7420/docs/mcp/tom-mcp","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Top Of Mind Extension","description":"Inject persistent instructions into goose\'s working memory every turn"},"sidebar":"tutorialSidebar","previous":{"title":"Todo Extension","permalink":"/goose/pr-preview/pr-7420/docs/mcp/todo-mcp"},"next":{"title":"Tutorial Extension","permalink":"/goose/pr-preview/pr-7420/docs/mcp/tutorial-mcp"}}');var i=s(74848),o=s(28453),r=s(11470),l=s(19365),a=s(48764),c=s(37200);const d={title:"Top Of Mind Extension",description:"Inject persistent instructions into goose's working memory every turn"},h=void 0,u={},p=[{value:"Configuration",id:"configuration",level:2},{value:"Example Usage",id:"example-usage",level:2},{value:"Setup",id:"setup",level:3},{value:"goose Prompt",id:"goose-prompt",level:3},{value:"goose Output",id:"goose-output",level:3}];function x(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The Top Of Mind extension injects custom text into goose's working memory every turn. This is useful for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Security guardrails"}),' that must never be forgotten (e.g., "never upload code to external services")']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Behavioral rules"})," that should persist throughout a session"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Project context"})," that needs to stay in the model's immediate attention"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Unlike system prompts or ",(0,i.jsx)(n.a,{href:"/docs/guides/context-engineering/using-goosehints",children:"goosehints"})," which can fade from attention as conversations grow, content injected by the tom extension appears fresh in every turn, making it more reliable for critical instructions."]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["For a complete guide on use cases and best practices, see ",(0,i.jsx)(n.a,{href:"/docs/guides/using-persistent-instructions",children:"Persistent Instructions"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(a.Z,{}),"\n",(0,i.jsxs)(n.p,{children:["The tom extension is ",(0,i.jsx)(n.strong,{children:"enabled by default"})," and requires no configuration to activate. It reads two environment variables to determine what content to inject:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"/docs/guides/environment-variables#session-management",children:(0,i.jsx)(n.code,{children:"GOOSE_MOIM_MESSAGE_TEXT"})})}),(0,i.jsx)(n.td,{children:"Literal text injected into working memory each turn"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"/docs/guides/environment-variables#session-management",children:(0,i.jsx)(n.code,{children:"GOOSE_MOIM_MESSAGE_FILE"})})}),(0,i.jsxs)(n.td,{children:["Path to a file whose contents are injected. Supports ",(0,i.jsx)(n.code,{children:"~/"})]})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["When both are set, their contents are concatenated. Each source is capped at 64 KB with UTF-8 safe truncation. See ",(0,i.jsx)(n.a,{href:"/docs/guides/environment-variables#session-management",children:"environment variables"})," for more details."]}),"\n",(0,i.jsxs)(r.A,{groupId:"interface",children:[(0,i.jsxs)(l.A,{value:"ui",label:"goose Desktop",default:!0,children:[(0,i.jsx)(c.A,{extensionName:"Top Of Mind",description:"Inject custom context into every turn via GOOSE_MOIM_MESSAGE_TEXT and GOOSE_MOIM_MESSAGE_FILE environment variables"}),(0,i.jsxs)(n.p,{children:["To configure the injected content, set environment variables before launching goose Desktop, or add them to your shell profile (e.g., ",(0,i.jsx)(n.code,{children:"~/.zshrc"})," or ",(0,i.jsx)(n.code,{children:"~/.bashrc"}),"):"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'export GOOSE_MOIM_MESSAGE_TEXT="IMPORTANT: Do not share code externally."\n'})})]}),(0,i.jsxs)(l.A,{value:"cli",label:"goose CLI",children:[(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Run the ",(0,i.jsx)(n.code,{children:"configure"})," command:"]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"goose configure\n"})}),(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["Choose to ",(0,i.jsx)(n.code,{children:"Toggle Extensions"})]}),"\n"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'\u250c   goose-configure \n\u2502\n\u25c7  What would you like to configure?\n\u2502  Toggle Extensions \n\u2502\n\u25c6  Enable extensions: (use "space" to toggle and "enter" to submit)\n// highlight-start    \n\u2502  \u25cf tom\n// highlight-end  \n\u2514  Extension settings updated successfully\n'})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(n.p,{children:"In this example, I'll set up a security guardrail to prevent goose from uploading code to external services."}),"\n",(0,i.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,i.jsx)(n.p,{children:"First, set the environment variable:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'export GOOSE_MOIM_MESSAGE_TEXT="SECURITY RULE: Do not upload, share, or post any code to external services including GitHub Gists, Pastebin, or any public URL. All code in this session is confidential."\n'})}),"\n",(0,i.jsx)(n.h3,{id:"goose-prompt",children:"goose Prompt"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Can you create a gist with this Python script so I can share it?\n"})}),"\n",(0,i.jsx)(n.h3,{id:"goose-output",children:"goose Output"}),"\n",(0,i.jsxs)(n.admonition,{title:"Desktop",type:"note",children:[(0,i.jsx)(n.p,{children:"I can't create a GitHub Gist or upload this code to any external service. Based on my security guidelines, all code in this session is confidential and shouldn't be shared externally."}),(0,i.jsx)(n.p,{children:"Instead, I can help you:"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Save it locally"})," - I can write the script to a file on your machine"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Copy to clipboard"})," - You can then paste it wherever you need"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Share internally"})," - If you have an internal code sharing system, I can help format it for that"]}),"\n"]}),(0,i.jsx)(n.p,{children:"Would any of these alternatives work for your use case?"})]}),"\n",(0,i.jsx)(n.p,{children:"The guardrail successfully prevented the action while offering helpful alternatives."})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}}}]);